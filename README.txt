made in 2021/07/01 - 2021/07/22

debugged on android simulator.

プログラム説明

このプログラムの目的は，旅行やビジネスのユーザーにホテルの，ホテルの
位置，名前とホテルへのアクセスを含め，視覚化された情報を提供すること．
同時に，ユーザーが地域ごとのホテルの分布を理解しやすくするために，大阪
府の 4 つの地域を選択してヒートマップを作成した．今回使用したデータは
ほとんど Rakuten Travel APIs からだ．
URI パラメータ値を変更して，異なる地域のホテル情報 API に接続できる
こととユーザー側の便利さを考慮して，このプログラムの開発は地域名前を入
力として，地域コード検索から始まる．
まず，楽天トラベル地区コード API で全日本の地域情報 URL を取得し，
LocalCode というクラスを作成する．LocalCode.getIndex()を使って特定の名
前の地区 middleClassCode，smallClassCode，detailClassCode 情報を取得する．
ユーザーは 3 つのスケールからホテル情報を検索する可能性があるので，3 つ
の選択できる構築関数を提供する．

このプログラムについて以下の視点から機能を紹介する．

１．マップは，空間情報を伝える最も効果的なツール．不要な情報を省略し
ながら，必要な情報だけを検索するのに役立つ．
たとえば，ユーザーが大阪府全域のホテル情報を知りたい場合は，中規模で
検索する．この時，detailClassCode と smallClassCode を null にする，具体的
の地域コードを検索しない．
大阪府高槻市の全ホテルの情報を知りたい場合は，特定の高槻市の地域コードを取得し，
他の地域コードデータは無視される．
LocalCode クラスの get 関数を呼び出すことを通じても地域コードを取得でき
る．クラス属性を private に設定して，情報を確実にカプセル化できるが，今
回は，関連する作業を省略させる．
次に，HotelData クラスを作成し，LocalCode オブジェクトをHotelDataに渡して，
HotelDataの構築関数でコードデータを取得できる．また，HotelData の対応
するパラメーターに割り当てて，特定のURIを取得し，ホテル情報のデータ
ベースに接続するための HotelData.getSmallData（）という関数を提供する．
今回は，高槻市の全ホテルを取得するので，Hotel クラスを作成し，いくつ
かのホテル属性を設定した．最も重要なのはホテルの経緯度，視
覚化に使われる．HotelData クラスは，ホテルオブジェクトのリストを保存す
るための List を提供する． メインアクティビティで，HotelData に保存され
ているホテルリストの緯経度を呼び出せる．そして mMap.addMarker（）で視
覚化し，ユーザーに情報を提供する．

２．相互作用と可視化に基づいて，マップはより複雑な情報検索を可能にす
る．
今回作成した地図では，ユーザーは各ホテルのマークをクリックすることで
各ホテルの名前とアクセスを取得できる．必要に応じてより複雑な情報も表示
するように設定できる． 現在，枚方，八尾，堺と高槻地区のホテル分布がヒ
ートマップの形式で視覚化され，ユーザーに提供される．ホテルが多い場所で
は，ユーザーはより多くの比較参照と選択肢もあるのでしょう．
ホテルの位置情報自体はほとんど静的だが，各ホテルの宿泊料金と空室情報
は動的でしょう．ユーザーに包括的な情報を示すため，将来は関連する検索の
インターフェイスを提供するかもしれない．例えば，ユーザーはチェックイン
時間，チェックアウト時間を入力して，特定の button を押すかマークをクリ
ックするなどで，プログラムは楽天トラベル空室検索 API に接続し，空室状
況のような動的な情報も提供できると思う．

